@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    @apply bg-off-white text-gray-800;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading;
  }

  code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
  }
}

@layer components {
  /* Emotionally Safe Button Styles */
  .btn-primary {
    @apply bg-soft-terracotta text-white px-6 py-3 rounded-lg font-medium transition-colors duration-300 hover:bg-soft-terracotta/90 focus:outline-none focus:ring-2 focus:ring-soft-terracotta focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-gentle-blue-grey text-white px-6 py-3 rounded-lg font-medium transition-colors duration-300 hover:bg-muted-teal focus:outline-none focus:ring-2 focus:ring-gentle-blue-grey focus:ring-offset-2;
  }

  .btn-ghost {
    @apply bg-transparent border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors duration-300 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2;
  }

  /* Calm Card Styles */
  .card {
    @apply bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 p-6;
  }

  .card-warm {
    @apply bg-warm-cream rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 p-6;
  }

  /* Form Input Styles - Emotionally Safe */
  .input {
    @apply w-full px-4 py-3 border border-light-grey rounded-lg focus:outline-none focus:ring-2 focus:ring-soft-terracotta focus:border-transparent transition-all duration-200 bg-white;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  /* Section Container */
  .section-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16;
  }

  /* Heading Styles */
  .heading-xl {
    @apply text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-gray-900;
  }

  .heading-lg {
    @apply text-3xl md:text-4xl lg:text-5xl font-heading font-bold text-gray-900;
  }

  .heading-md {
    @apply text-2xl md:text-3xl font-heading font-semibold text-gray-900;
  }

  .heading-sm {
    @apply text-xl md:text-2xl font-heading font-semibold text-gray-900;
  }

  /* Body Text */
  .body-lg {
    @apply text-lg md:text-xl text-gray-600 leading-relaxed;
  }

  .body-md {
    @apply text-base md:text-lg text-gray-600 leading-relaxed;
  }

  /* Status Badge Styles - Calm Colors */
  .status-badge {
    @apply px-3 py-1 rounded-full text-sm font-medium;
  }

  .status-pending {
    @apply bg-warm-sand text-gray-700;
  }

  .status-confirmed {
    @apply bg-soft-terracotta text-white;
  }

  .status-cancelled {
    @apply bg-soft-beige text-gray-700;
  }

  .status-completed {
    @apply bg-muted-teal text-white;
  }
}

@layer utilities {
  /* Smooth transitions for all interactive elements */
  .transition-smooth {
    @apply transition-all duration-300 ease-in-out;
  }

  /* Calm shadows */
  .shadow-calm {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  }

  .shadow-calm-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
  }

  /* Safe area insets for notched devices (iPhone X+) */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Touch manipulation for better mobile responsiveness */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* Prevent overscroll bounce on iOS */
  .overscroll-contain {
    overscroll-behavior: contain;
  }
}

/* Print Styles */
@media print {
  /* Hide non-printable elements */
  nav,
  footer,
  .print\\:hidden,
  button:not(.print\\:visible),
  select,
  input,
  .no-print,
  .admin-header,
  .admin-stats,
  .admin-tabs {
    display: none !important;
  }

  /* Reset page */
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt !important;
    line-height: 1.4 !important;
  }

  /* Page margins */
  @page {
    margin: 1cm;
  }

  /* Show print-only elements */
  .print\\:block {
    display: block !important;
  }

  /* Optimize tables for print */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
  }

  table th,
  table td {
    border: 1px solid #333 !important;
    padding: 8px !important;
    text-align: left !important;
    background: white !important;
    color: black !important;
  }

  table th {
    background: #f0f0f0 !important;
    font-weight: bold !important;
  }

  /* Card styles for print */
  .card {
    box-shadow: none !important;
    border: 1px solid #ccc !important;
    page-break-inside: avoid !important;
  }

  /* Print content area - remove padding/margins */
  .print-content-area {
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Modal print styles - when modal is open, hide everything else */
  .print-modal-backdrop {
    position: fixed !important;
    inset: 0 !important;
    background: white !important;
    z-index: 9999 !important;
    overflow: visible !important;
    display: block !important;
    padding: 0 !important;
  }

  .print-modal-content {
    position: static !important;
    width: 100% !important;
    max-width: none !important;
    max-height: none !important;
    overflow: visible !important;
    background: white !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 20px !important;
    margin: 0 !important;
  }

  /* When modal is open, hide everything behind it */
  body:has(.print-modal-backdrop) > *:not(.print-modal-backdrop):not(script):not(style) {
    display: none !important;
  }

  body:has(.print-modal-backdrop) .print-modal-backdrop {
    display: block !important;
  }

  /* Fallback for browsers that don't support :has() - using printing-modal class on body */
  body.printing-modal > *:not(.print-modal-backdrop):not(script):not(style) {
    display: none !important;
  }

  body.printing-modal .print-modal-backdrop {
    display: block !important;
    position: static !important;
    background: white !important;
  }

  /* Print header styles */
  .print-header {
    display: block !important;
    text-align: center !important;
    margin-bottom: 20px !important;
    padding-bottom: 10px !important;
    border-bottom: 2px solid #333 !important;
  }

  .print-header h1 {
    font-size: 18pt !important;
    margin-bottom: 5px !important;
  }

  .print-header p {
    font-size: 10pt !important;
    color: #666 !important;
  }

  /* Ensure images print */
  img {
    max-width: 100% !important;
    page-break-inside: avoid !important;
  }

  /* Status badges for print */
  .status-badge,
  [class*="bg-opacity"] {
    background: transparent !important;
    border: 1px solid #333 !important;
    color: black !important;
  }

  /* Avoid page breaks in important content */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid !important;
  }

  tr, img, table {
    page-break-inside: avoid !important;
  }

  /* Appointments print - only show the appointments content */
  .admin-content {
    padding: 0 !important;
    margin: 0 !important;
  }
}
